"use strict";

define(["./core", "./core/init", "./manipulation", // clone
"./traversing" // parent, contents
], function (jQuery) {

	"use strict";

	jQuery.fn.extend({
		wrapAll: function wrapAll(html) {
			var wrap;

			if (this[0]) {
				if (jQuery.isFunction(html)) {
					html = html.call(this[0]);
				}

				// The elements to wrap the target around
				wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);

				if (this[0].parentNode) {
					wrap.insertBefore(this[0]);
				}

				wrap.map(function () {
					var elem = this;

					while (elem.firstElementChild) {
						elem = elem.firstElementChild;
					}

					return elem;
				}).append(this);
			}

			return this;
		},

		wrapInner: function wrapInner(html) {
			if (jQuery.isFunction(html)) {
				return this.each(function (i) {
					jQuery(this).wrapInner(html.call(this, i));
				});
			}

			return this.each(function () {
				var self = jQuery(this),
				    contents = self.contents();

				if (contents.length) {
					contents.wrapAll(html);
				} else {
					self.append(html);
				}
			});
		},

		wrap: function wrap(html) {
			var isFunction = jQuery.isFunction(html);

			return this.each(function (i) {
				jQuery(this).wrapAll(isFunction ? html.call(this, i) : html);
			});
		},

		unwrap: function unwrap(selector) {
			this.parent(selector).not("body").each(function () {
				jQuery(this).replaceWith(this.childNodes);
			});
			return this;
		}
	});

	return jQuery;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3B1YmxpYy9saWIvanF1ZXJ5L3NyYy93cmFwLmpzIl0sIm5hbWVzIjpbImRlZmluZSIsImpRdWVyeSIsImZuIiwiZXh0ZW5kIiwid3JhcEFsbCIsImh0bWwiLCJ3cmFwIiwiaXNGdW5jdGlvbiIsImNhbGwiLCJvd25lckRvY3VtZW50IiwiZXEiLCJjbG9uZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJtYXAiLCJlbGVtIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJhcHBlbmQiLCJ3cmFwSW5uZXIiLCJlYWNoIiwiaSIsInNlbGYiLCJjb250ZW50cyIsImxlbmd0aCIsInVud3JhcCIsInNlbGVjdG9yIiwicGFyZW50Iiwibm90IiwicmVwbGFjZVdpdGgiLCJjaGlsZE5vZGVzIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxPQUFRLENBQ1AsUUFETyxFQUVQLGFBRk8sRUFHUCxnQkFITyxFQUdXO0FBQ2xCLGNBSk8sQ0FJUTtBQUpSLENBQVIsRUFLRyxVQUFVQyxNQUFWLEVBQW1COztBQUV0Qjs7QUFFQUEsUUFBT0MsRUFBUCxDQUFVQyxNQUFWLENBQWtCO0FBQ2pCQyxXQUFTLGlCQUFVQyxJQUFWLEVBQWlCO0FBQ3pCLE9BQUlDLElBQUo7O0FBRUEsT0FBSyxLQUFNLENBQU4sQ0FBTCxFQUFpQjtBQUNoQixRQUFLTCxPQUFPTSxVQUFQLENBQW1CRixJQUFuQixDQUFMLEVBQWlDO0FBQ2hDQSxZQUFPQSxLQUFLRyxJQUFMLENBQVcsS0FBTSxDQUFOLENBQVgsQ0FBUDtBQUNBOztBQUVEO0FBQ0FGLFdBQU9MLE9BQVFJLElBQVIsRUFBYyxLQUFNLENBQU4sRUFBVUksYUFBeEIsRUFBd0NDLEVBQXhDLENBQTRDLENBQTVDLEVBQWdEQyxLQUFoRCxDQUF1RCxJQUF2RCxDQUFQOztBQUVBLFFBQUssS0FBTSxDQUFOLEVBQVVDLFVBQWYsRUFBNEI7QUFDM0JOLFVBQUtPLFlBQUwsQ0FBbUIsS0FBTSxDQUFOLENBQW5CO0FBQ0E7O0FBRURQLFNBQUtRLEdBQUwsQ0FBVSxZQUFXO0FBQ3BCLFNBQUlDLE9BQU8sSUFBWDs7QUFFQSxZQUFRQSxLQUFLQyxpQkFBYixFQUFpQztBQUNoQ0QsYUFBT0EsS0FBS0MsaUJBQVo7QUFDQTs7QUFFRCxZQUFPRCxJQUFQO0FBQ0EsS0FSRCxFQVFJRSxNQVJKLENBUVksSUFSWjtBQVNBOztBQUVELFVBQU8sSUFBUDtBQUNBLEdBNUJnQjs7QUE4QmpCQyxhQUFXLG1CQUFVYixJQUFWLEVBQWlCO0FBQzNCLE9BQUtKLE9BQU9NLFVBQVAsQ0FBbUJGLElBQW5CLENBQUwsRUFBaUM7QUFDaEMsV0FBTyxLQUFLYyxJQUFMLENBQVcsVUFBVUMsQ0FBVixFQUFjO0FBQy9CbkIsWUFBUSxJQUFSLEVBQWVpQixTQUFmLENBQTBCYixLQUFLRyxJQUFMLENBQVcsSUFBWCxFQUFpQlksQ0FBakIsQ0FBMUI7QUFDQSxLQUZNLENBQVA7QUFHQTs7QUFFRCxVQUFPLEtBQUtELElBQUwsQ0FBVyxZQUFXO0FBQzVCLFFBQUlFLE9BQU9wQixPQUFRLElBQVIsQ0FBWDtBQUFBLFFBQ0NxQixXQUFXRCxLQUFLQyxRQUFMLEVBRFo7O0FBR0EsUUFBS0EsU0FBU0MsTUFBZCxFQUF1QjtBQUN0QkQsY0FBU2xCLE9BQVQsQ0FBa0JDLElBQWxCO0FBRUEsS0FIRCxNQUdPO0FBQ05nQixVQUFLSixNQUFMLENBQWFaLElBQWI7QUFDQTtBQUNELElBVk0sQ0FBUDtBQVdBLEdBaERnQjs7QUFrRGpCQyxRQUFNLGNBQVVELElBQVYsRUFBaUI7QUFDdEIsT0FBSUUsYUFBYU4sT0FBT00sVUFBUCxDQUFtQkYsSUFBbkIsQ0FBakI7O0FBRUEsVUFBTyxLQUFLYyxJQUFMLENBQVcsVUFBVUMsQ0FBVixFQUFjO0FBQy9CbkIsV0FBUSxJQUFSLEVBQWVHLE9BQWYsQ0FBd0JHLGFBQWFGLEtBQUtHLElBQUwsQ0FBVyxJQUFYLEVBQWlCWSxDQUFqQixDQUFiLEdBQW9DZixJQUE1RDtBQUNBLElBRk0sQ0FBUDtBQUdBLEdBeERnQjs7QUEwRGpCbUIsVUFBUSxnQkFBVUMsUUFBVixFQUFxQjtBQUM1QixRQUFLQyxNQUFMLENBQWFELFFBQWIsRUFBd0JFLEdBQXhCLENBQTZCLE1BQTdCLEVBQXNDUixJQUF0QyxDQUE0QyxZQUFXO0FBQ3REbEIsV0FBUSxJQUFSLEVBQWUyQixXQUFmLENBQTRCLEtBQUtDLFVBQWpDO0FBQ0EsSUFGRDtBQUdBLFVBQU8sSUFBUDtBQUNBO0FBL0RnQixFQUFsQjs7QUFrRUEsUUFBTzVCLE1BQVA7QUFDQyxDQTVFRCIsImZpbGUiOiJ3cmFwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKCBbXG5cdFwiLi9jb3JlXCIsXG5cdFwiLi9jb3JlL2luaXRcIixcblx0XCIuL21hbmlwdWxhdGlvblwiLCAvLyBjbG9uZVxuXHRcIi4vdHJhdmVyc2luZ1wiIC8vIHBhcmVudCwgY29udGVudHNcbl0sIGZ1bmN0aW9uKCBqUXVlcnkgKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciB3cmFwO1xuXG5cdFx0aWYgKCB0aGlzWyAwIF0gKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRcdGh0bWwgPSBodG1sLmNhbGwoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxuXHRcdFx0d3JhcCA9IGpRdWVyeSggaHRtbCwgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQgKS5lcSggMCApLmNsb25lKCB0cnVlICk7XG5cblx0XHRcdGlmICggdGhpc1sgMCBdLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHdyYXAuaW5zZXJ0QmVmb3JlKCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0d3JhcC5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZWxlbSA9IHRoaXM7XG5cblx0XHRcdFx0d2hpbGUgKCBlbGVtLmZpcnN0RWxlbWVudENoaWxkICkge1xuXHRcdFx0XHRcdGVsZW0gPSBlbGVtLmZpcnN0RWxlbWVudENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVsZW07XG5cdFx0XHR9ICkuYXBwZW5kKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0d3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcElubmVyKCBodG1sLmNhbGwoIHRoaXMsIGkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcblx0XHRcdFx0Y29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG5cblx0XHRcdGlmICggY29udGVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRjb250ZW50cy53cmFwQWxsKCBodG1sICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNlbGYuYXBwZW5kKCBodG1sICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdHdyYXA6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciBpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcEFsbCggaXNGdW5jdGlvbiA/IGh0bWwuY2FsbCggdGhpcywgaSApIDogaHRtbCApO1xuXHRcdH0gKTtcblx0fSxcblxuXHR1bndyYXA6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR0aGlzLnBhcmVudCggc2VsZWN0b3IgKS5ub3QoIFwiYm9keVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS5yZXBsYWNlV2l0aCggdGhpcy5jaGlsZE5vZGVzICk7XG5cdFx0fSApO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59ICk7XG5cbnJldHVybiBqUXVlcnk7XG59ICk7XG4iXX0=